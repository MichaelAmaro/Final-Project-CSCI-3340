{% extends "blog/base.html" %}
{% block content %}
    <h1 class="mb-4">My Events</h1>
    
    {% if events %}
        {% for event in events %}
        <article class="media content-section">
          <img class="rounded-circle article-img" src="{{ event.author.profile.image.url }}">
            <div class="media-body">
              <div class="article-metadata">
                <a class="mr-2" href="{% url 'user-events' event.author.username %}">{{ event.author }}</a>
                <small class="text-muted">{{ event.date_posted|date:"F d, Y" }}</small>
              </div>
              <h2><a class="article-title" href="{% url 'event-detail' event.id %}">{{ event.title }}</a></h2>
              <p class="article-content">{{ event.description }}</p>
              <div class="event-details-inline">
                <div class="event-detail-button date-button">
                  <span class="icon">📅</span>
                  <span class="label">Date:</span>
                  <span class="value">{{ event.event_date|date:"M d, Y" }}</span>
                </div>
                <div class="event-detail-button time-button">
                  <span class="icon">🕐</span>
                  <span class="label">Time:</span>
                  <span class="value">{{ event.event_time|time:"g:i A" }}</span>
                </div>
                <div class="event-detail-button location-button">
                  <span class="icon">📍</span>
                  <span class="label">Location:</span>
                  <span class="value">{{ event.location }}</span>
                </div>
              </div>
              
              <!-- RSVP Status -->
              <div class="mt-2">
                <span class="badge badge-success">✓ You're attending this event</span>
              </div>
            </div>
          </article>    
        {% endfor %}
    {% else %}
        <div class="content-section text-center">
            <h3 class="text-muted">No events yet!</h3>
            <p class="text-muted">You haven't RSVP'd to any events yet.</p>
            <a href="{% url 'blog-home' %}" class="btn btn-primary">Browse Events</a>
        </div>
    {% endif %}
{% endblock content %}
